{
  "Query": "Remove all files except some from a directory",
  "Answers": [
    {
      "Command": "rm",
      "MP Summary": "remove files or directories",
      "Most Similar TLDR Task": "Recursively remove a directory and all its subdirectories",
      "Most Similar TLDR Script": "rm -r {{path/to/directory}}",
      "Top-3 Similar Questions": [
        "au_624441: How to delete all files except one named file from a specific folder",
        "au_508447: How to delete all the files/folders from the folder except few folders?",
        "ul_281087: How do I remove all files from wtihin a certain directory except for a child directory of that directory?"
      ],
      "Top-3 Scripts": [
        "au_624441: rm !(a.txt)\n\nrm -r !(a.txt)\n\nrm -r !(a_dir)",
        "au_508447: find ./application/ -type d -not -name config -not -name logs -exec rm -R {} \\;\n\nexec rm -R {} \\;",
        "ul_281087: find ~/.jenkins/jobs/subco -path ~/.jenkins/jobs/subco/myapp -prune -o -name '*.jar' -exec rm -r {} +"
      ],
      "Explanations about Options": {
        "-R": "remove directories and their contents recursively",
        "-r": "remove directories and their contents recursively"
      }
    },
    {
      "Command": "dirname",
      "MP Summary": "strip last component from file name",
      "Most Similar TLDR Task": "Delimit output with a NUL character instead of a newline (useful when combining with `xargs`)",
      "Most Similar TLDR Script": "dirname --zero {{path/to/directory_a}} {{path/to/file_b}}",
      "Top-3 Similar Questions": [
        "ul_278350: Detect and remove empty directories from list"
      ],
      "Top-3 Scripts": [
        "ul_278350: dirs_to_check=\"$(echo \"$changed_files\" | xargs dirname | sort -u)\""
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "find",
      "MP Summary": "search for files in a directory hierarchy",
      "Most Similar TLDR Task": "Find files matching a given pattern, excluding specific paths",
      "Most Similar TLDR Script": "find {{root_path}} -name '{{*.py}}' -not -path '{{*/site-packages/*}}'",
      "Top-3 Similar Questions": [
        "au_508447: How to delete all the files/folders from the folder except few folders?",
        "ul_281087: How do I remove all files from wtihin a certain directory except for a child directory of that directory?",
        "su_430918: How can delete all files except one from a directory?"
      ],
      "Top-3 Scripts": [
        "au_508447: find ./application/ -type d -not -name config -not -name logs\n\nfind ./application/ -type d -not -name config -not -name logs -exec rm -R {} \\;",
        "ul_281087: find ~/.jenkins/jobs/subco -path ~/.jenkins/jobs/subco/myapp -prune -o -name '*.jar' -exec rm -r {} +",
        "su_430918: find . ! -name non_delete_file -delete\n\nfind . -type f -maxdepth 1 ! -name non_delete_file -delete"
      ],
      "Explanations about Options": {
        "-name": "This option is supported, but POSIX conformance depends on the POSIX conformance of\n the system's fnmatch(3) library function. As of findutils-4.2.2, shell\n metacharacters (`*', `?' or `[]' for example) will match a leading `.', because\n IEEE PASC interpretation 126 requires this. This is a change from previous\n versions of findutils.",
        "-maxdepth": "Descend at most levels (a non-negative integer) levels of directories below the\n starting-points. -maxdepth 0 means only apply the tests and actions to the\n starting-points themselves.",
        "-d": "A synonym for -depth, for compatibility with FreeBSD, NetBSD, MacOS X and OpenBSD.",
        "-type": "File is of type c:",
        "-not": "Same as ! expr, but not POSIX compliant."
      }
    },
    {
      "Command": "unlink",
      "MP Summary": "call the unlink function to remove the specified file",
      "Most Similar TLDR Task": "Remove the specified file if it is the last link",
      "Most Similar TLDR Script": "unlink {{path/to/file}}",
      "Top-3 Similar Questions": [
        "so_10892188: Unable to remove files from directory",
        "so_63530639: Bash for loop that removes files without suffixes from multiple directories",
        "su_608989: Simple daemon in C for constantly removing files from a user directory"
      ],
      "Top-3 Scripts": [
        "so_10892188: unlink glob \"*.bak\";\n\nunlink glob($directory.$files);",
        "so_63530639: unlink()",
        "su_608989: unlink()"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "rmdir",
      "MP Summary": "remove empty directories",
      "Most Similar TLDR Task": "Remove directory, provided it is empty. Use `rm -r` to remove non-empty directories",
      "Most Similar TLDR Script": "rmdir {{path/to/directory}}",
      "Top-3 Similar Questions": [
        "ul_278350: Detect and remove empty directories from list"
      ],
      "Top-3 Scripts": [
        "ul_278350: find . -depth -type d -exec echo rmdir --ignore-fail-on-non-empty {} +"
      ],
      "Explanations about Options": {
        "--ignore-fail-on-non-empty": "remove DIRECTORY and its ancestors; e.g., 'rmdir -p a/b/c' is similar to 'rmdir\n a/b/c a/b a'"
      }
    }
  ]
}