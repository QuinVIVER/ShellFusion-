{
  "Query": "Efficiently delete large directory containing thousands of files",
  "Answers": [
    {
      "Command": "rm",
      "MP Summary": "remove files or directories",
      "Most Similar TLDR Task": "Recursively remove a directory and all its subdirectories",
      "Most Similar TLDR Script": "rm -r {{path/to/directory}}",
      "Top-3 Similar Questions": [
        "so_35615581: How to delete X number of files in a directory",
        "so_37710667: How to delete one set of files in a directory containing similarly named files?",
        "au_663389: Delete a list of directories stored in a file"
      ],
      "Top-3 Scripts": [
        "so_35615581: ls -U | head -40000 | xargs rm -rf\n\nfind . -maxdepth 1 -print0 | xargs -0 rm -rf",
        "so_37710667: ls text_*.txt | { read first; rm *\"${first:4:4}\"*; };\n\nrm *\"\"*\n\nrm *_xx.*\n\nls text_??.txt | { read first; rm *_\"${first:5:2}\".*; };",
        "au_663389: rm -r"
      ],
      "Explanations about Options": {
        "-r": "remove directories and their contents recursively",
        "-f": "ignore nonexistent files and arguments, never prompt"
      }
    },
    {
      "Command": "mkdir",
      "MP Summary": "make directories",
      "Most Similar TLDR Task": "Create directories recursively (useful for creating nested dirs)",
      "Most Similar TLDR Script": "mkdir -p {{path/to/directory}}",
      "Top-3 Similar Questions": [
        "au_711603: how to delete one directory of a path?",
        "su_547409: Debian - deleting thousands of files"
      ],
      "Top-3 Scripts": [
        "au_711603: ",
        "su_547409: $ mkdir ha\n$ for X in $(seq 1 10000);do touch {1..10000}_$X; done\n$ ls -f ha | wc -l \n  2516007     <= I stopped before the for loop finished, but this should be enough\n$ time rm -rf ha/\n  real  23m11.695s\n  user  0m3.540s\n  sys           0m42.891s"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "find",
      "MP Summary": "search for files in a directory hierarchy",
      "Most Similar TLDR Task": "Find files matching a given pattern, excluding specific paths",
      "Most Similar TLDR Script": "find {{root_path}} -name '{{*.py}}' -not -path '{{*/site-packages/*}}'",
      "Top-3 Similar Questions": [
        "so_35615581: How to delete X number of files in a directory",
        "au_574667: How can I delete all folders of a specific name without deleting Contents in it?",
        "ul_414516: Best way to delete large amount of files by date"
      ],
      "Top-3 Scripts": [
        "so_35615581: find . -maxdepth 1 -print0 | xargs -0 rm -rf",
        "au_574667: #!/bin/bash\n\nwhile IFS= read -r -d '' n; \ndo   \n   dir=$(dirname \"$n\") ; \n   mv \"${n}\"/* \"${dir}\"\n   rmdir \"${n}\"\ndone < <(find -type d -name \"128Kbps_Songs\" -print0)",
        "ul_414516: find /path/to/folder -mtime +90 -delete\n\nfind /path/to/folder -mtime +90 -exec rm {} +\n\nfind /path/to/folder -mtime +90 -print"
      ],
      "Explanations about Options": {
        "-type": "File is of type c:",
        "-name": "This option is supported, but POSIX conformance depends on the POSIX conformance of\n the system's fnmatch(3) library function. As of findutils-4.2.2, shell\n metacharacters (`*', `?' or `[]' for example) will match a leading `.', because\n IEEE PASC interpretation 126 requires this. This is a change from previous\n versions of findutils.",
        "-maxdepth": "Descend at most levels (a non-negative integer) levels of directories below the\n starting-points. -maxdepth 0 means only apply the tests and actions to the\n starting-points themselves.",
        "-print0": "Always print the exact filename, unchanged, even if the output is going to a\n terminal."
      }
    },
    {
      "Command": "rmdir",
      "MP Summary": "remove empty directories",
      "Most Similar TLDR Task": "Remove directory, provided it is empty. Use `rm -r` to remove non-empty directories",
      "Most Similar TLDR Script": "rmdir {{path/to/directory}}",
      "Top-3 Similar Questions": [
        "au_574667: How can I delete all folders of a specific name without deleting Contents in it?",
        "au_711603: how to delete one directory of a path?",
        "au_663389: Delete a list of directories stored in a file"
      ],
      "Top-3 Scripts": [
        "au_574667: #!/bin/bash\n\nwhile IFS= read -r -d '' n; \ndo   \n   dir=$(dirname \"$n\") ; \n   mv \"${n}\"/* \"${dir}\"\n   rmdir \"${n}\"\ndone < <(find -type d -name \"128Kbps_Songs\" -print0)",
        "au_711603: mv Leonardo/data/approach/tennis Leonardo/data && rmdir Leonardo/data/approach",
        "au_663389: while IFS= read -r directory\ndo\n   #rmdir /home/directory/\"$directory\"\n   echo rmdir /home/directory/\"$directory\"\ndone < /home/list/list.txt"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "dirname",
      "MP Summary": "strip last component from file name",
      "Most Similar TLDR Task": "Calculate the parent directory of multiple paths",
      "Most Similar TLDR Script": "dirname {{path/to/file_a}} {{path/to/directory_b}}",
      "Top-3 Similar Questions": [
        "au_574667: How can I delete all folders of a specific name without deleting Contents in it?",
        "su_547409: Debian - deleting thousands of files"
      ],
      "Top-3 Scripts": [
        "au_574667: #!/bin/bash\n\nwhile IFS= read -r -d '' n; \ndo   \n   dir=$(dirname \"$n\") ; \n   mv \"${n}\"/* \"${dir}\"\n   rmdir \"${n}\"\ndone < <(find -type d -name \"128Kbps_Songs\" -print0)",
        "su_547409: rm -rf dirname/*\n\nnohup rm -rf dirname"
      ],
      "Explanations about Options": {}
    }
  ]
}