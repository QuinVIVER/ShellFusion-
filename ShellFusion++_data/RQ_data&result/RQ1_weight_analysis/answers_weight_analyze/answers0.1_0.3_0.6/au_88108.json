{
  "Query": "Samba share read only for guests, read write for authenticated users",
  "Answers": [
    {
      "Command": "smbpasswd",
      "MP Summary": "change a user's SMB password",
      "Most Similar TLDR Task": "Delete a Samba user",
      "Most Similar TLDR Script": "smbpasswd -x {{username}}",
      "Top-3 Similar Questions": [
        "au_524908: Configuring Ubuntu to share a folder with read-only access for guests and write for authenticated users"
      ],
      "Top-3 Scripts": [
        "au_524908: sudo smbpasswd -a USERNAME"
      ],
      "Explanations about Options": {
        "-a": "This option specifies that the username following should be added to the local\n smbpasswd file, with the new password typed (type <Enter> for the old password). This\n option is ignored if the username following already exists in the smbpasswd file and\n it is treated like a regular change password command. Note that the default passdb\n backends require the user to already exist in the system password file (usually\n /etc/passwd), else the request to add the user will fail."
      }
    },
    {
      "Command": "write",
      "MP Summary": "send a message to another user",
      "Most Similar TLDR Task": "Send a message to a given user on a given terminal id",
      "Most Similar TLDR Script": "write {{username}} {{terminal_id}}",
      "Top-3 Similar Questions": [
        "ul_453541: Create samba share with only write and no read permissions",
        "ul_153751: How can I write to my Samba share?"
      ],
      "Top-3 Scripts": [
        "ul_453541: //172.17.10.1/write-only      /mnt/write      cifs    user=smbwrite,pass=s3kr1t,uid=foo,vers=3.0 0 0",
        "ul_153751: public = no\nhide unreadable = yes\nprintable = no\nforce create mode = 0664\nforce group = xbmc\nwrite list = xbmc\ndirectory mask = 0775"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "sudo",
      "MP Summary": "execute a command as another user",
      "Most Similar TLDR Task": "Run a command as another user and/or group",
      "Most Similar TLDR Script": "sudo -u {{user}} -g {{group}} {{id -a}}",
      "Top-3 Similar Questions": [
        "au_524908: Configuring Ubuntu to share a folder with read-only access for guests and write for authenticated users",
        "au_172017: How can I add file create read write and delete for a specific user?",
        "su_1082450: Mount a Samba share using Kerberos ticket"
      ],
      "Top-3 Scripts": [
        "au_524908: sudo smbpasswd -a USERNAME",
        "au_172017: sudo mount -o remount,acl /",
        "su_1082450: sudo mount -t cifs -o user=$USER,cruid=$USER,sec=krb5 //domain/path /home/path\n\nsudo mount -t cifs -o user=$USER,cruid=$USER,sec=krb5,gid=$GID,uid=$UID //domain/path /home/path"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "setfacl",
      "MP Summary": "set file access control lists",
      "Most Similar TLDR Task": "Modify ACL of a file for user with read and write access",
      "Most Similar TLDR Script": "setfacl -m u:{{username}}:rw {{file}}",
      "Top-3 Similar Questions": [
        "au_172017: How can I add file create read write and delete for a specific user?",
        "su_1069880: Linux: Group permission user have read and write but can't delete each other files"
      ],
      "Top-3 Scripts": [
        "au_172017: setfacl -m u:bind:rw /var/log/DESIRED_FILENAME_HERE",
        "su_1069880: setfacl -dm u::rwX,g::rwX,o::rX /shared/directory\n\nsetfacl -m d:u:admin:rw,g::rwX,o::rX /shared/directory"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "adduser",
      "MP Summary": "add a user or group to the system",
      "Most Similar TLDR Task": "Add an existing user to the specified group",
      "Most Similar TLDR Script": "adduser {{username}} {{group}}",
      "Top-3 Similar Questions": [
        "au_464350: How to create two users who can read files of each other?"
      ],
      "Top-3 Scripts": [
        "au_464350: sudo adduser --ingroup users alice\nsudo adduser --ingroup users bob"
      ],
      "Explanations about Options": {
        "--ingroup": "GROUP\n Add the new user to GROUP instead of a usergroup or the default group defined by\n USERS_GID in the configuration file. This affects the users primary group. To add\n additional groups, see the add_extra_groups option."
      }
    }
  ]
}