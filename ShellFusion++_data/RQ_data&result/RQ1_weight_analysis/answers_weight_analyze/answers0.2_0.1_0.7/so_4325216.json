{
  "Query": "Remove all files except some from a directory",
  "Answers": [
    {
      "Command": "rm",
      "MP Summary": "remove files or directories",
      "Most Similar TLDR Task": "Recursively remove a directory and all its subdirectories",
      "Most Similar TLDR Script": "rm -r {{path/to/directory}}",
      "Top-3 Similar Questions": [
        "so_56009193: How to delete all files in a directory except one subdirectory?",
        "au_624441: How to delete all files except one named file from a specific folder",
        "ul_627606: recursively delete all files+folders except a specific one file in solaris"
      ],
      "Top-3 Scripts": [
        "so_56009193: find . -maxdepth 1 ! -name directorytokeep -exec echo rm -rf {} \\;",
        "au_624441: rm !(a.txt)\n\nrm -r !(a.txt)\n\nrm -r !(a_dir)",
        "ul_627606: -exec rm -r {} +\n\nshopt -s extglob\nrm -r /tmp/CURRENT/!(104.tar)"
      ],
      "Explanations about Options": {
        "-r": "remove directories and their contents recursively",
        "-f": "ignore nonexistent files and arguments, never prompt"
      }
    },
    {
      "Command": "cp",
      "MP Summary": "copy files and directories",
      "Most Similar TLDR Task": "Copy a file into another directory, keeping the filename",
      "Most Similar TLDR Script": "cp {{path/to/source_file.ext}} {{path/to/target_parent_directory}}",
      "Top-3 Similar Questions": [
        "so_51538552: Linux: how to remove all the files in a folder except ones with specific names?"
      ],
      "Top-3 Scripts": [
        "so_51538552: $ cp /path/to/dir/*15.0_10.0_T0_* /other/dir"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "find",
      "MP Summary": "search for files in a directory hierarchy",
      "Most Similar TLDR Task": "Find files matching a given pattern, excluding specific paths",
      "Most Similar TLDR Script": "find {{root_path}} -name '{{*.py}}' -not -path '{{*/site-packages/*}}'",
      "Top-3 Similar Questions": [
        "so_56009193: How to delete all files in a directory except one subdirectory?",
        "so_17345111: linux remove files in a directory except symlinks?",
        "au_555318: Delete all files except files with the extension pdf in a directory"
      ],
      "Top-3 Scripts": [
        "so_56009193: find . -maxdepth 1 ! -name directorytokeep -exec echo rm -rf {} \\;",
        "so_17345111: find /path/to/dir -type f -delete",
        "au_555318: cd <the directory you want>\nfind . -type f ! -iname \"*.pdf\" -delete\n\nfind . -type f ! -iname \"*.pdf\" -delete\n\nfind ~/temp -type f ! -iname \"*.pdf\" -delete\n\nfind . -maxdepth 1 -type f ! -iname \"*.pdf\" -delete"
      ],
      "Explanations about Options": {
        "-d": "A synonym for -depth, for compatibility with FreeBSD, NetBSD, MacOS X and OpenBSD.",
        "-name": "This option is supported, but POSIX conformance depends on the POSIX conformance of\n the system's fnmatch(3) library function. As of findutils-4.2.2, shell\n metacharacters (`*', `?' or `[]' for example) will match a leading `.', because\n IEEE PASC interpretation 126 requires this. This is a change from previous\n versions of findutils.",
        "-iname": "Like -name, but the match is case insensitive. For example, the patterns `fo*' and\n `F??' match the file names `Foo', `FOO', `foo', `fOo', etc. The pattern `*foo*`\n will also match a file called '.foobar'.",
        "-type": "File is of type c:",
        "-maxdepth": "Descend at most levels (a non-negative integer) levels of directories below the\n starting-points. -maxdepth 0 means only apply the tests and actions to the\n starting-points themselves."
      }
    },
    {
      "Command": "sed",
      "MP Summary": "stream editor for filtering and transforming text",
      "Most Similar TLDR Task": "Replace all occurrences of a string in a file, overwriting the file (i.e. in-place)",
      "Most Similar TLDR Script": "sed -i 's/{{find}}/{{replace}}/g' {{filename}}",
      "Top-3 Similar Questions": [
        "so_45082275: How to remove duplicate headers from a file except first occurrence in linux",
        "ul_384397: Remove a specific suffix from all the files in a directory"
      ],
      "Top-3 Scripts": [
        "so_45082275: sed -i",
        "ul_384397: for file in table_subset_*; do\n    new_name=$(echo \"$file\" | sed -E -e 's/_0+/_/')\n    mv \"$file\" \"$new_name\"\ndone"
      ],
      "Explanations about Options": {
        "-E": "use extended regular expressions in the script (for portability use POSIX -E).",
        "-i": "edit files in place (makes backup if SUFFIX supplied)",
        "-e": "add the script to the commands to be executed"
      }
    },
    {
      "Command": "rmdir",
      "MP Summary": "remove empty directories",
      "Most Similar TLDR Task": "Remove directory, provided it is empty. Use `rm -r` to remove non-empty directories",
      "Most Similar TLDR Script": "rmdir {{path/to/directory}}",
      "Top-3 Similar Questions": [
        "ul_569361: Remove all files/directories except specified ones in multiple levels"
      ],
      "Top-3 Scripts": [
        "ul_569361: find . -depth \\\n     ! -path  . \\\n     ! -path  ./folder1 \\\n     ! -path './folder1/*' \\\n     ! -path  ./file1 \\\n     ! -path  ./folder2 \\\n     ! -path  ./folder2/subfolder \\\n     ! -path  ./folder2/subfolder/onefile \\\n       \\( \\( ! -type d -exec rm {} + \\) -o \\( -type d -exec rmdir {} + \\) \\)"
      ],
      "Explanations about Options": {}
    }
  ]
}