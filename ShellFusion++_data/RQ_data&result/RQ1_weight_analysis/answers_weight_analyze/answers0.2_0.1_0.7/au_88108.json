{
  "Query": "Samba share read only for guests, read write for authenticated users",
  "Answers": [
    {
      "Command": "sudo",
      "MP Summary": "execute a command as another user",
      "Most Similar TLDR Task": "Run a command as another user and/or group",
      "Most Similar TLDR Script": "sudo -u {{user}} -g {{group}} {{id -a}}",
      "Top-3 Similar Questions": [
        "su_1082450: Mount a Samba share using Kerberos ticket",
        "au_195579: Mount my own samba share?",
        "au_1002832: change permissions of folder to group sudo read/write and all users only read"
      ],
      "Top-3 Scripts": [
        "su_1082450: sudo mount -t cifs -o user=$USER,cruid=$USER,sec=krb5 //domain/path /home/path\n\nsudo mount -t cifs -o user=$USER,cruid=$USER,sec=krb5,gid=$GID,uid=$UID //domain/path /home/path",
        "au_195579: sudo mount -t cifs -o guest //LOCALHOST/SHARE_NAME //DIRECTORY/MOUNT_POINT",
        "au_1002832: # make the group 'sudo' the owner of the directory 'public'\nchgrp sudo public   \n\n# give the group read/write access and others just read access\nchmod g=rwx,o=rx public\n\nls -ld public\ndrwxrwxr-x 2 pduck sudo 4096 Feb  4 14:08 public\n\nsudo chown root:sudo public\nsudo chmod 0750 public\n\n# result:\ndrwxrwxr-x 2 root sudo 4096 Feb 28 11:32 public\n\nsudo chown pduck:sudo public\nsudo chmod 0050 public\n\n# gives\nd---r-x--- 2 pduck sudo 4096 Feb 28 11:32 public"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "smbpasswd",
      "MP Summary": "change a user's SMB password",
      "Most Similar TLDR Task": "Delete a Samba user",
      "Most Similar TLDR Script": "smbpasswd -x {{username}}",
      "Top-3 Similar Questions": [
        "au_524908: Configuring Ubuntu to share a folder with read-only access for guests and write for authenticated users"
      ],
      "Top-3 Scripts": [
        "au_524908: sudo smbpasswd -a USERNAME"
      ],
      "Explanations about Options": {
        "-a": "This option specifies that the username following should be added to the local\n smbpasswd file, with the new password typed (type <Enter> for the old password). This\n option is ignored if the username following already exists in the smbpasswd file and\n it is treated like a regular change password command. Note that the default passdb\n backends require the user to already exist in the system password file (usually\n /etc/passwd), else the request to add the user will fail."
      }
    },
    {
      "Command": "write",
      "MP Summary": "send a message to another user",
      "Most Similar TLDR Task": "Send a message to a given user on a given terminal id",
      "Most Similar TLDR Script": "write {{username}} {{terminal_id}}",
      "Top-3 Similar Questions": [
        "ul_453541: Create samba share with only write and no read permissions"
      ],
      "Top-3 Scripts": [
        "ul_453541: //172.17.10.1/write-only      /mnt/write      cifs    user=smbwrite,pass=s3kr1t,uid=foo,vers=3.0 0 0"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "usermod",
      "MP Summary": "modify a user account",
      "Most Similar TLDR Task": "Create a new home directory for a user and move their files to it",
      "Most Similar TLDR Script": "usermod -m -d {{/path/to/home}} {{user}}",
      "Top-3 Similar Questions": [
        "ul_291337: Read only permission to sftp user in specific directory"
      ],
      "Top-3 Scripts": [
        "ul_291337: $ sudo usermod -G sftp_users foo"
      ],
      "Explanations about Options": {
        "-G": "GROUP1[,GROUP2,...[,GROUPN]]]\n A list of supplementary groups which the user is also a member of. Each group is\n separated from the next by a comma, with no intervening whitespace. The groups are\n subject to the same restrictions as the group given with the -g option."
      }
    },
    {
      "Command": "passwd",
      "MP Summary": "change user password",
      "Most Similar TLDR Task": "Get the current status of the user",
      "Most Similar TLDR Script": "passwd -S",
      "Top-3 Similar Questions": [
        "ul_291337: Read only permission to sftp user in specific directory"
      ],
      "Top-3 Scripts": [
        "ul_291337: sudo useradd foo\nsudo passwd foo\n\n/etc/passwd\n\n$ sudo vi /etc/passwd\n\n..\nfoo:x:1001:1001::/var/www/vhosts/:\n.."
      ],
      "Explanations about Options": {}
    }
  ]
}