{
  "Query": "How to backup settings and list of installed packages",
  "Answers": [
    {
      "Command": "dpkg-query",
      "MP Summary": "a tool to query the dpkg database",
      "Most Similar TLDR Task": "List all files installed by a package",
      "Most Similar TLDR Script": "dpkg-query -L {{package_name}}",
      "Top-3 Similar Questions": [
        "au_1160322: Retrieve a complete list of installed packages",
        "au_483175: How do I list the contents of a package?",
        "au_915223: How can I use dpkg-query to list only installed version of a package?"
      ],
      "Top-3 Scripts": [
        "au_1160322: dpkg -l\n# or\ndpkg-query -f '${binary:Package}\\n' -W\n# or\ndpkg --get-selections | grep -v deinstall\n# or\napt list --installed",
        "au_483175: dpkg-query -L <package_name>",
        "au_915223: "
      ],
      "Explanations about Options": {
        "-L": "List files installed to your system from package-name. When multiple package-name\n are listed, the requested lists of files are separated by an empty line, with the\n same order as specified on the argument list. However, note that files created by\n package-specific installation-scripts are not listed.",
        "-f": "This option is used to specify the format of the output --show will produce (short\n option since dpkg 1.13.1). The format is a string that will be output for each\n package listed.",
        "-W": "Just like the --list option this will list all packages matching the given pattern.\n However the output can be customized using the --showformat option. The default\n output format gives one line per matching package, each line having the name\n (extended with the architecture qualifier for Multi-Arch same packages) and\n installed version of the package, separated by a tab."
      }
    },
    {
      "Command": "install",
      "MP Summary": "copy files and set attributes",
      "Most Similar TLDR Task": "Copy files to destination, setting their ownership",
      "Most Similar TLDR Script": "install -o {{user}} {{path/to/source}} {{path/to/destination}}",
      "Top-3 Similar Questions": [
        "ul_654369: Where does Debian store the list of installed packages?",
        "au_1160322: Retrieve a complete list of installed packages",
        "au_483175: How do I list the contents of a package?"
      ],
      "Top-3 Scripts": [
        "ul_654369: Status: install ok installed\n\nawk '/^Package:/ { package = $2 }\n     /^Status: install ok installed/ { print package }' /path/to/status\n\nawk '/^Package:/ { p = $2; i = 0 }\n     /^Status: install ok installed/ { i = 1 }\n     i && /^Architecture: all/ { print p; next }\n     i && /^Architecture/ { printf \"%s:%s\\n\", p, $2 }' /path/to/status\n\nawk 'FNR == NR && /^Package:/ { p = $2 }\n     /^Status: install ok installed/ { i = 1 }\n     FNR == NR && i && /^Architecture: all/ { ps[p] = 1; next }\n     FNR == NR && i && /^Architecture/ { ps[p \":\" $2] = 1}\n     FNR != NR && /^Package:/ { p = $2 }\n     FNR != NR && /^Architecture:/ { a = $2 }\n     /^Auto-Installed: 1/ { delete ps[p \":\" a] }\n     END { for (p in ps) print p }' /path/to/status /path/to/extended_states",
        "au_1160322: apt install",
        "au_483175: sudo apt-get install synaptic"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "dpkg",
      "MP Summary": "package manager for Debian",
      "Most Similar TLDR Task": "List installed packages",
      "Most Similar TLDR Script": "dpkg -l {{pattern}}",
      "Top-3 Similar Questions": [
        "ul_654369: Where does Debian store the list of installed packages?",
        "ul_838: Weekly cron job to save list of installed packages",
        "au_434154: How to get the list of installed library packages only?"
      ],
      "Top-3 Scripts": [
        "ul_654369: /var/lib/dpkg/status\n\nman dpkg",
        "ul_838: #!/bin/bash\n\ndpkg -l > ~/Dropbox/installed_packages",
        "au_434154: dpkg -S $(/sbin/ldconfig -p | awk 'NR>1 { print $NF }')"
      ],
      "Explanations about Options": {
        "-l": "List packages matching given pattern.\n -s, --status package-name...\n Report status of specified package.\n -L, --listfiles package-name...\n List files installed to your system from package-name.\n -S, --search filename-search-pattern...\n Search for a filename from installed packages.\n -p, --print-avail package-name...\n Display details about package-name, as found in\n /var/lib/dpkg/available. Users of APT-based frontends\n should use apt-cache show package-name instead."
      }
    },
    {
      "Command": "apt-mark",
      "MP Summary": "show, set and unset various settings for a package",
      "Most Similar TLDR Task": "Mark a package as automatically installed",
      "Most Similar TLDR Script": "sudo apt-mark auto {{package_name}}",
      "Top-3 Similar Questions": [
        "ul_654369: Where does Debian store the list of installed packages?"
      ],
      "Top-3 Scripts": [
        "ul_654369: awk '/^Package:/ { p = $2 }\n     /^Architecture/ { a = $2 }\n     /^Auto-Installed: 1/ { printf \"%s:%s\\n\", p, a }' /path/to/extended_states |\nxargs sudo apt-mark auto"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "pip",
      "MP Summary": "A tool for installing and managing Python packages",
      "Most Similar TLDR Task": "Install packages from file",
      "Most Similar TLDR Script": "pip install -r {{requirements.txt}}",
      "Top-3 Similar Questions": [
        "so_39828366: Using grep to compare two lists of Python packages"
      ],
      "Top-3 Scripts": [
        "so_39828366: comm -12 <(pip freeze) <(pip3.4 freeze)\n\ngrep -f <(pip freeze) <(pip3.4 freeze)"
      ],
      "Explanations about Options": {}
    }
  ]
}