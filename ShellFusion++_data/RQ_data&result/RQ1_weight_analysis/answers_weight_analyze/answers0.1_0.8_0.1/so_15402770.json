{
  "Query": "How to grep and replace",
  "Answers": [
    {
      "Command": "sed",
      "MP Summary": "stream editor for filtering and transforming text",
      "Most Similar TLDR Task": "Replace separator / by any other character not used in the find or replace patterns, e.g., #",
      "Most Similar TLDR Script": "sed 's#{{find}}#{{replace}}#' {{filename}}",
      "Top-3 Similar Questions": [
        "so_23957082: Using sed to retrieve and modify a single line in the file",
        "ul_154136: Replacing string in all files found by grep. Can't get it to work",
        "so_39607425: grep a specific string and replace the file with sed"
      ],
      "Top-3 Scripts": [
        "so_23957082: sed '0,/^[^#]/ s/^[^#].*/#\\0/' file.txt",
        "ul_154136: sed -r \"s/'([A-Za-z0-9_-.]+)(@domain.com)'/'adsf'/g\" test.dat\n\ncd /var/www_data/somepath/\nsed -r 's|pattern|replace-pattern|g' a_single_file.php\n\nfind . -type f -name '*.php' -o -name '*.ini' -o name '*.conf' -o -name '*.sh' \\\n-exec sed -r -ibak 's|pattern|replace-pattern|g' '{}' \\;",
        "so_39607425: sed -E -i.bak 's/(Free.*OK,[^.]*)[.][^,]*/\\1%/' file.txt\n\n$ sed -E -i.bak 's/(Free.*OK,[^.]*)[.][^,]*/\\1%/' file.txt\n$ cat file.txt\n23674, ICMP ping, OK, 1, 2016-08-25 17:11:02\n23686, Ping, OK, 1, 2016-08-25 16:05:04\n23689, SSH Service, OK, 1, 2016-08-25 16:05:49\n23693, System Free Space, OK, 97%, 2016-08-25 16:06:49\n23713, System Free Space, OK, 88%, 2016-09-20 18:02:22\n23745, C:\\ Free, OK, 63%, 2016-09-21 10:57:03"
      ],
      "Explanations about Options": {
        "-E": "use extended regular expressions in the script (for portability use POSIX -E).",
        "-i": "edit files in place (makes backup if SUFFIX supplied)",
        "-r": "use extended regular expressions in the script (for portability use POSIX -E)."
      }
    },
    {
      "Command": "echo",
      "MP Summary": "display a line of text",
      "Most Similar TLDR Task": "Print a message with environment variables",
      "Most Similar TLDR Script": "echo \"{{My path is $PATH}}\"",
      "Top-3 Similar Questions": [
        "ul_453855: Replace text with values",
        "so_21491877: Replace number of specified characters",
        "so_49766131: Replace characters in shell variable"
      ],
      "Top-3 Scripts": [
        "ul_453855: ",
        "so_21491877: some_command() {\n    a=\"aaaaaaaaaaaaaaaaaaaaaaaaa\"\n    c=\"ccccccccccccccccccccccccc\"\n    echo \"${c:0:$1}${a:$1}\"\n}\n\n> some_command 3\ncccaaaaaaaaaaaaaaaaaaaaaa",
        "so_49766131: input=\"/local/1/hadoop/MISDATA1/Risk_Analytics/blocker/risk/\"\ninput=$(echo \"$input\" | sed 's/risk/risk_unzip/g')"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "grep",
      "MP Summary": "print lines that match patterns",
      "Most Similar TLDR Task": "Invert match for excluding specific strings",
      "Most Similar TLDR Script": "grep -v {{search_pattern}}",
      "Top-3 Similar Questions": [
        "ul_154136: Replacing string in all files found by grep. Can't get it to work",
        "ul_34679: Recursively replace string in files",
        "so_2066304: grep and sed - replace all instances of a string"
      ],
      "Top-3 Scripts": [
        "ul_154136: grep --recursive --include='*.bak' -E --files-with-matches 'pattern' . > files_fixed.txt",
        "ul_34679: find /your/path -type f -exec grep -l 'page_path\\\\' {} \\; -exec sed -i 's#page_path\\\\#page_path/#g' {} \\;",
        "so_2066304: grep -ZlR \"/~test/dev/portal\" . | xargs -0 -l1 sed -i 's:/~test/dev/portal/:/apps/portal/:g'"
      ],
      "Explanations about Options": {
        "-x": "Select only those matches that exactly match the whole line. For a regular\n expression pattern, this is like parenthesizing the pattern and then surrounding it\n with ^ and $.",
        "--include": "Search only files whose base name matches GLOB (using wildcard matching as\n described under --exclude).",
        "--files-with-matches": "Suppress normal output; instead print the name of each input file from which output\n would normally have been printed. The scanning will stop on the first match.",
        "-R": "Read all files under each directory, recursively. Follow all symbolic links,\n unlike -r.",
        "--recursive": "Read all files under each directory, recursively, following symbolic links only if\n they are on the command line. Note that if no file operand is given, grep searches\n the working directory. This is equivalent to the -d recurse option.",
        "-l": "Suppress normal output; instead print the name of each input file from which output\n would normally have been printed. The scanning will stop on the first match.",
        "-Z": "Output a zero byte (the ASCII NUL character) instead of the character that normally\n follows a file name. For example, grep -lZ outputs a zero byte after each file\n name instead of the usual newline. This option makes the output unambiguous, even\n in the presence of file names containing unusual characters like newlines. This\n option can be used with commands like find -print0, perl -0, sort -z, and xargs -0\n to process arbitrary file names, even those that contain newline characters."
      }
    },
    {
      "Command": "cat",
      "MP Summary": "concatenate files and print on the standard output",
      "Most Similar TLDR Task": "Concatenate several files into the target file",
      "Most Similar TLDR Script": "cat {{file1}} {{file2}} > {{target_file}}",
      "Top-3 Similar Questions": [
        "so_39607425: grep a specific string and replace the file with sed",
        "so_24871982: Replace numbers not in parentheses?",
        "so_25416599: How to replace newline for a specific line number?"
      ],
      "Top-3 Scripts": [
        "so_39607425: $ sed -E -i.bak 's/(Free.*OK,[^.]*)[.][^,]*/\\1%/' file.txt\n$ cat file.txt\n23674, ICMP ping, OK, 1, 2016-08-25 17:11:02\n23686, Ping, OK, 1, 2016-08-25 16:05:04\n23689, SSH Service, OK, 1, 2016-08-25 16:05:49\n23693, System Free Space, OK, 97%, 2016-08-25 16:06:49\n23713, System Free Space, OK, 88%, 2016-09-20 18:02:22\n23745, C:\\ Free, OK, 63%, 2016-09-21 10:57:03",
        "so_24871982: ",
        "so_25416599: $ cat file\n1\n2\n3\n4"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "which",
      "MP Summary": "locate a command",
      "Most Similar TLDR Task": "If there are multiple executables which match, display all",
      "Most Similar TLDR Script": "which -a {{executable}}",
      "Top-3 Similar Questions": [
        "so_68388945: grep specific variable from output and replace value with another linux"
      ],
      "Top-3 Scripts": [
        "so_68388945: awk -v newValue=\"newVALUE\" '  ##Getting nfs4_getfacl output as input to awk program, creating newValue variable which has new value in it.\nBEGIN{ FS=OFS=\":\" }           ##Setting field separator and output field separator as : here.\n/:.:.*:/ && $3~/^[0-9]+$/{    ##Check if line contains :.:.*: format AND 3rd column is digits.\n  $3=newValue                 ##Then set newValue value to 3rd column here.\n}\n1                             ##printing edited/non-edited lines here.\n'"
      ],
      "Explanations about Options": {}
    }
  ]
}