{
  "Query": "How to backup settings and list of installed packages",
  "Answers": [
    {
      "Command": "install",
      "MP Summary": "copy files and set attributes",
      "Most Similar TLDR Task": "Copy files to destination, setting their ownership",
      "Most Similar TLDR Script": "install -o {{user}} {{path/to/source}} {{path/to/destination}}",
      "Top-3 Similar Questions": [
        "ul_654369: Where does Debian store the list of installed packages?",
        "au_576306: Backup of Flashdrive",
        "au_116209: How to backup programs to DVD"
      ],
      "Top-3 Scripts": [
        "ul_654369: Status: install ok installed\n\nawk '/^Package:/ { package = $2 }\n     /^Status: install ok installed/ { print package }' /path/to/status\n\nawk '/^Package:/ { p = $2; i = 0 }\n     /^Status: install ok installed/ { i = 1 }\n     i && /^Architecture: all/ { print p; next }\n     i && /^Architecture/ { printf \"%s:%s\\n\", p, $2 }' /path/to/status\n\nawk 'FNR == NR && /^Package:/ { p = $2 }\n     /^Status: install ok installed/ { i = 1 }\n     FNR == NR && i && /^Architecture: all/ { ps[p] = 1; next }\n     FNR == NR && i && /^Architecture/ { ps[p \":\" $2] = 1}\n     FNR != NR && /^Package:/ { p = $2 }\n     FNR != NR && /^Architecture:/ { a = $2 }\n     /^Auto-Installed: 1/ { delete ps[p \":\" a] }\n     END { for (p in ps) print p }' /path/to/status /path/to/extended_states",
        "au_576306: sudo apt-get install gnome-disks",
        "au_116209: sudo apt-get install aptoncd"
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "dpkg",
      "MP Summary": "package manager for Debian",
      "Most Similar TLDR Task": "List installed packages",
      "Most Similar TLDR Script": "dpkg -l {{pattern}}",
      "Top-3 Similar Questions": [
        "ul_654369: Where does Debian store the list of installed packages?",
        "ul_838: Weekly cron job to save list of installed packages",
        "au_37700: dump dpkg package list for fresh installation"
      ],
      "Top-3 Scripts": [
        "ul_654369: /var/lib/dpkg/status\n\nman dpkg",
        "ul_838: #!/bin/bash\n\ndpkg -l > ~/Dropbox/installed_packages",
        "au_37700: dpkg --get-selections >output-file\n\nsudo dpkg --set-selections <output-file \nsudo apt-get dselect-upgrade"
      ],
      "Explanations about Options": {
        "-l": "List packages matching given pattern.\n -s, --status package-name...\n Report status of specified package.\n -L, --listfiles package-name...\n List files installed to your system from package-name.\n -S, --search filename-search-pattern...\n Search for a filename from installed packages.\n -p, --print-avail package-name...\n Display details about package-name, as found in\n /var/lib/dpkg/available. Users of APT-based frontends\n should use apt-cache show package-name instead.",
        "--set-selections": "Set package selections using file read from stdin. This file should be in the\n format \u201cpackage state\u201d, where state is one of install, hold, deinstall or purge.\n Blank lines and comment lines beginning with \u2018#\u2019 are also permitted."
      }
    },
    {
      "Command": "duplicity",
      "MP Summary": "Encrypted incremental backup to local or remote storage.",
      "Most Similar TLDR Task": "List the available backups",
      "Most Similar TLDR Script": "duplicity collection-status \"file://{{absolute/path/to/backup/directory}}\"",
      "Top-3 Similar Questions": [
        "au_1213752: Is a Ubuntu backup accessible from Win 10?"
      ],
      "Top-3 Scripts": [
        "au_1213752: "
      ],
      "Explanations about Options": {}
    },
    {
      "Command": "dpkg-query",
      "MP Summary": "a tool to query the dpkg database",
      "Most Similar TLDR Task": "List all files installed by a package",
      "Most Similar TLDR Script": "dpkg-query -L {{package_name}}",
      "Top-3 Similar Questions": [
        "au_1160322: Retrieve a complete list of installed packages"
      ],
      "Top-3 Scripts": [
        "au_1160322: dpkg -l\n# or\ndpkg-query -f '${binary:Package}\\n' -W\n# or\ndpkg --get-selections | grep -v deinstall\n# or\napt list --installed"
      ],
      "Explanations about Options": {
        "-f": "This option is used to specify the format of the output --show will produce (short\n option since dpkg 1.13.1). The format is a string that will be output for each\n package listed.",
        "-W": "Just like the --list option this will list all packages matching the given pattern.\n However the output can be customized using the --showformat option. The default\n output format gives one line per matching package, each line having the name\n (extended with the architecture qualifier for Multi-Arch same packages) and\n installed version of the package, separated by a tab."
      }
    },
    {
      "Command": "restic",
      "MP Summary": "Backup and restore files",
      "Most Similar TLDR Task": "Backup a directory to the repository",
      "Most Similar TLDR Script": "restic -r {{path/to/repository}} backup {{path/to/directory}}",
      "Top-3 Similar Questions": [
        "ul_482588: CLI backup tool"
      ],
      "Top-3 Scripts": [
        "ul_482588: "
      ],
      "Explanations about Options": {}
    }
  ]
}