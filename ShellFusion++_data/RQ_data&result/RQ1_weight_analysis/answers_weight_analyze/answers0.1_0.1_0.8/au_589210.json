{
  "Query": "Removing files older than 7 days",
  "Answers": [
    {
      "Command": "find",
      "MP Summary": "search for files in a directory hierarchy",
      "Most Similar TLDR Task": "Find files modified in the last 7 days, and delete them",
      "Most Similar TLDR Script": "find {{root_path}} -mtime {{-7}} -delete",
      "Top-3 Similar Questions": [
        "so_15431587: How to delete files older than 7 days in Linux using the shell",
        "au_963563: Removing folders older than 5 days",
        "so_29914285: Deleting files that are older than one day"
      ],
      "Top-3 Scripts": [
        "so_15431587: ",
        "au_963563: $ mkdir -p foo/2017/{October/{28..31},November/{1..3}}\n$ touch -d 'now - 6 days' foo/2017/October/{28,29} foo/2017\n$ find foo/* -mindepth 1 -mtime +5\nfoo/2017/October/28\nfoo/2017/October/29\n$ find foo/* -mtime +5\nfoo/2017\nfoo/2017/October/28\nfoo/2017/October/29\n\n$ find foo/ -mindepth 2 -mtime +5\nfoo/2017/October/28\nfoo/2017/October/29",
        "so_29914285: /usr/bin/find <Your Log Directory> -mtime +1 | xargs rm -f"
      ],
      "Explanations about Options": {
        "-mindepth": "Do not apply any tests or actions at levels less than levels (a non-negative\n integer). -mindepth 1 means process all files except the starting-points.",
        "-mtime": "File's data was last modified n*24 hours ago. See the comments for -atime to\n understand how rounding affects the interpretation of file modification times."
      }
    },
    {
      "Command": "rm",
      "MP Summary": "remove files or directories",
      "Most Similar TLDR Task": "Remove files from arbitrary locations",
      "Most Similar TLDR Script": "rm {{path/to/file}} {{path/to/another/file}}",
      "Top-3 Similar Questions": [
        "ul_645245: Delete files with filename date older than 7 days",
        "so_29914285: Deleting files that are older than one day",
        "ul_677590: Deleting all files older than 2 days under specific directory names recursively"
      ],
      "Top-3 Scripts": [
        "ul_645245: #! /bin/zsh -\nzmodload zsh/datetime || exit\n\ncd /path/to/backups || exit\n\nstrftime -s oldest_to_keep archive-%F.zip $(( EPOCHSECONDS - 7 * 24*60*60 ))\n\nrm -f archive-<->-<1-12>-<1-31>.zip(Ne['[[ $REPLY < $oldest_to_keep ]]'])",
        "so_29914285: /usr/bin/find <Your Log Directory> -mtime +1 | xargs rm -f",
        "ul_677590: -exec rm"
      ],
      "Explanations about Options": {
        "-f": "ignore nonexistent files and arguments, never prompt"
      }
    },
    {
      "Command": "touch",
      "MP Summary": "change file timestamps",
      "Most Similar TLDR Task": "Create a new empty file(s) or change the times for existing file(s) to current time",
      "Most Similar TLDR Script": "touch {{filename}}",
      "Top-3 Similar Questions": [
        "au_963563: Removing folders older than 5 days"
      ],
      "Top-3 Scripts": [
        "au_963563: $ mkdir -p foo/2017/{October/{28..31},November/{1..3}}\n$ touch -d 'now - 6 days' foo/2017/October/{28,29} foo/2017\n$ find foo/* -mindepth 1 -mtime +5\nfoo/2017/October/28\nfoo/2017/October/29\n$ find foo/* -mtime +5\nfoo/2017\nfoo/2017/October/28\nfoo/2017/October/29"
      ],
      "Explanations about Options": {
        "-d": "parse STRING and use it instead of current time"
      }
    },
    {
      "Command": "date",
      "MP Summary": "print or set the system date and time",
      "Most Similar TLDR Task": "Display a specific date (represented as a Unix timestamp) using the default format",
      "Most Similar TLDR Script": "date -d @1473305798",
      "Top-3 Similar Questions": [
        "so_15431587: How to delete files older than 7 days in Linux using the shell",
        "so_58419556: Delete *.ZIP files older than 15 days",
        "ul_527014: Delete folders but keep 20 newest, 7 days old"
      ],
      "Top-3 Scripts": [
        "so_15431587: ",
        "so_58419556: find /home/root/BACKUPS/backup.sql   | xargs zip -czvPf /home/root/BACKUPS/$(date +%F)_backup.sql.zip\nfind /home/root/BACKUPS -name \"*.zip\" -type f -mtime +15 -exec rm -f {} \\;",
        "ul_527014: seven_days=$(date -d '7 days ago' '+%s')\nstat -c \"%Y %%n\" /folder/folder1/*/ | sort -nr | tail -n +20 | while read -r mtime name; do\n    if (( mtime < seven_days )); then\n        echo \"remove directory $name\"\n    fi\ndone"
      ],
      "Explanations about Options": {
        "-d": "display time described by STRING, not 'now'"
      }
    },
    {
      "Command": "zip",
      "MP Summary": "package and compress (archive) files",
      "Most Similar TLDR Task": "Archive a directory and its contents with the highest level [9] of compression",
      "Most Similar TLDR Script": "zip -r -{{9}} {{compressed.zip}} {{/path/to/dir}}",
      "Top-3 Similar Questions": [
        "so_58419556: Delete *.ZIP files older than 15 days"
      ],
      "Top-3 Scripts": [
        "so_58419556: find /home/root/BACKUPS/backup.sql   | xargs zip -czvPf /home/root/BACKUPS/$(date +%F)_backup.sql.zip\nfind /home/root/BACKUPS -name \"*.zip\" -type f -mtime +15 -exec rm -f {} \\;"
      ],
      "Explanations about Options": {
        "-z": "Prompt for a multi-line comment for the entire zip archive. The comment is ended\n by a line containing just a period, or an end of file condition (^D on Unix, ^Z on\n MSDOS, OS/2, and VMS). The comment can be taken from a file:",
        "-f": "Replace (freshen) an existing entry in the zip archive only if it has been modified\n more recently than the version already in the zip archive; unlike the update option\n (-u) this will not add files that are not already in the zip archive. For example:",
        "-v": "Verbose mode or print diagnostic version info.",
        "-c": "Add one-line comments for each file. File operations (adding, updating) are done\n first, and the user is then prompted for a one-line comment for each file. Enter\n the comment followed by return, or just return for no comment."
      }
    }
  ]
}